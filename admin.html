<!DOCTYPE html>
<html>

<head>
    <title>Static Admin GitHub</title>
</head>

<body>
    <h1>Quản lý sản phẩm</h1>

    <input type="text" id="name" placeholder="Tên sản phẩm">
    <input type="text" id="price" placeholder="Giá">
    <input type="text" id="description" placeholder="Mô tả">
    <button id="add">Thêm sản phẩm</button>

    <script>
        document.getElementById('add').addEventListener('click', async () => {
            const name = document.getElementById('name').value;
            const price = parseInt(document.getElementById('price').value);
            const description = document.getElementById('description').value;

            const newProduct = { id: Date.now(), name, price, description };

            // Gọi workflow dispatch qua server proxy (Node.js/Express)
            await fetch('/dispatch-workflow', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ content: JSON.stringify([newProduct]) })
            });

            alert('Đã gửi sản phẩm lên GitHub workflow!');
        });
    </script>
</body>

</html>